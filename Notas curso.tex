\documentclass{book}

\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{multicol}
\usepackage{tikz}
\usepackage{tasks}
\usepackage{wrapfig}  % Spaces around a figure (safe to remove)
\usepackage[spanish]{babel}
\usepackage[margin=22mm]{geometry}
\usepackage{hyperref}	% References with links

\usetikzlibrary{shapes.geometric,fit}
%\usetikzlibrary{patterns,positioning,calc,shapes,arrows, quotes, angles, snakes, automata,backgrounds, petri}

\newcommand{\set}[1]{\left\lbrace #1 \right\rbrace }
\newcommand{\powerset}[1]{\mathcal{P}\left( #1 \right)}
\newcommand{\card}[1]{\left|#1\right|}
\newcommand*{\preimage}[1]{#1^{\leftarrow}}
\newcommand*{\image}[1]{#1^{\rightarrow}}
\newcommand*{\concat}{\frown}

\newtheorem{thm}{Teorema}[chapter]
\newtheorem{ejr}{Ejercicio}[chapter]
\newtheorem*{sol}{Solución}
%\newtheorem{demo}{Demostración}
	
\def\proof{\paragraph{Demostración:\\}}
\def\endproof{\hfill$\blacksquare$}

\theoremstyle{definition}
\newtheorem{df}{Definición}[chapter]
\newtheorem{ejm}{Ejemplo}[chapter]

% TODO globales:
% Usar \equiv en lugar de = para definiciones de enunciados (fórmulas)
% Preferir el término enunciado por encima de oración
% No mencionar "este trabajo", en lugar preferir "el curso"

%\newenvironment{sol}{\noindent{\it Solución.}}{\hfill$\blacksquare$}
\begin{document}
\chapter{Lógica matemática}
La lógica es, en matemáticas, la primera capa de fundación y abstracción en la que se construyen las demás ramas.
El propósito de este capítulo entonces, es definir el lenguaje con el que se trabaja para evitar cometer errores de pensamiento, para evitar ser engañados y auto-engañarnos.
Así que la lógica proporciona, más allá de las aplicaciones matemáticas, herramientas para una de las habilidades intelectuales más importantes de nuestra era: el pensamiento crítico.
% TODO: hablar de lógica, lógica de enunciados de primer orden

Empezamos esta unidad definiendo el objeto de estudio de este capítulo.
\begin{df}
	Un \emph{enunciado}
		\footnote{Más adelante daremos una definición más formal de ésta} %TODO la definición recursiva
		(a veces llamado oración) es una expresión declarativa cuyo valor de verdad está determinado.
\end{df}

% TODO: cambiar oración por enunciado
%\section{Lógica de enunciados}
Por ejemplo, expresiones del tipo ``Si mañana llueve, voy a faltar a clase'' o ``María sabe inglés y francés'' son oraciones; también, más al contexto de las matemáticas ``$2+2=4$'' o bien ``$3^2 > 20$'' también lo son.
Expresiones como ``¿Qué hora es?'', ``¡Qué calor!'' o ``Haz tu tarea'' no son oraciones, ya que no son expresiones declarativas.

Aquí estamos usando comillas dobles para separar el contenido (lo que este trabajo dice) del objeto (lo que el objeto dice), y lo seguiremos usando cuando pueda haber ambigüedad.

\section{Operadores lógicos}

Como en todas las matemáticas, el contenido emerge cuando miramos cómo interactúan las cosas; en este caso, y como no tenemos otros objetos hasta ahora que los enunciados, debemos preguntarnos: ¿cómo es que los enunciados interactúan entre sí? ¿cómo se relacionan unos con otros?

\begin{df}
	Un operador\footnote{a veces llamado conector} lógico es una función\footnote %TODO
	{esto es aproximadamente, una regla para construir enunciados a partir de otros, profundizaremos más adelante en el capítulo \ref{ch_funciones}}
	que a cada oración, o pareja de ellos, les asigna alguna otra.
\end{df}

Con el fin de construir operadores lógicos, haremos uso de \emph{tablas de verdad}, es decir, una tabla en la que se analice el comportamiento de enunciado en todos los posibles casos que puedan ocurrir, dada una cantidad de enunciados simples. En la tabla \ref{tb_tablaVerdadOperadores} se pueden ver las tablas de verdad de los operadores que vamos a definir a continuación.

Procedemos a hacer una lista de los operadores que nos interesan.
\begin{description}
	\item [Negación ($\neg$)]  % TODO: ¿No se ve horrible agregar aquí los símbolos de los operadores? Se ve bien
	Si $p$ es un enunciado, su negación $\neg p$ (no $p$) alterna el valor de verdad de $p$; esto es, $\neg p$ es falsa sólo cuando $p$ es verdadera.
	
	Por ejemplo, si $p$ representa ``$2+2=5$", $\neg p$ es la oración que afirma ``no es cierto que $2+2=2$", o bien ``$2+2\neq 5$".

	\item[Conjunción ($\wedge$)] El operador binario $\wedge$ asigna a cada par de enunciados $p,q$ un nuevo enunciado $p \wedge q$ ($p$ y $q$) que es verdadera exactamente cuando los dos operandos también lo son.

	Por ejemplo, haciendo que $p$ se interprete como ``Los cerdos vuelan" y $q$ como ``Los gatos nadan", entonces el símbolo $p\wedge q$ debe interpretarse como ``Los cerdos vuelan y los gatos caminan", cosa que es falso.
	
	\item[Disyunción ($\vee$)] Este operador binario $\vee$ compone dos enunciados $p,q$ en $p\vee q$($p$ o $q$) que requiere que al menos uno de ambos sea verdadero para ser, en conjunto, verdadero; equivalentemente, la única forma en la que $p \vee q$ sea falso es que tanto $p$ como $q$ sea falso.
	
	Tomando el mismo ejemplo del cerdo y el gato, $p\vee q$ se interpreta como ``los cerdos vuelan o los gatos caminan".
	Como los gatos caminan, entonces $p \vee q$ es verdadero.
	
	\item[Disyunción excluyente ($\veebar$)] A veces se requiere, a diferencia de la disyunción, que exactamente uno de los operandos sea verdadero, y \emph{excluir} el caso en el que ambos sean verdaderos.
	Aquí entra la disyunción excluyente, que su valor de verdad es verdadero exactamente cuando uno de los dos operandos es verdadero.
	Se puede pensar en este operador como una prueba de diferencia: devuelve verdadero cuando los valores de la entrada son diferentes entre sí.
	
	Aunque este operador no parezca tan natural como los anteriores, es bastante usado por razones técnicas, ya que su álgebra es bastante bien comportada. % TODO: Algúna referencia a la parte de conjuntos donde se trata esto.
	
	\item[Condicional ($\rightarrow$)] Este operador juega un papel muy importante en inferencia y deducción, y por ello tendrá un papel estelar en la sección \ref{sc_inferenciasLogicas}.
	
	Este operador intenta modelar situaciones donde exista una pareja premisa-conclusión como en los siguientes ejemplos:
	
	Consideremos un símbolo de enunciado $p$ que tenga interpretación ``Estudio el fin de semana" y $q$ interpretando a ``Apruebo el curso de matemáticas discretas".
	Queremos darle un valor de verdad al término $p \rightarrow q$ de tal manera que se interprete como $p\rightarrow q \equiv$ ``Si $p$ entonces $q$" $\equiv$ ``Si estudio el fin de semana, entonces apruebo el curso de matemáticas discretas".
	
	Exploremos las cuatro combinaciones de los posibles valores de verdad para la pareja de $p$ y $q$.
	Por ejemplo, si $p,q$ son ambos verdaderos entonces $p\rightarrow q$ debería ser verdadera, porque al final estudié y terminé pasando el curso.
	
	¿Qué pasaría si $p$ fuera falsa?
	Imaginemos que el profesor del curso le dice a Panchito: ``si estudias, seguramente pasas este curso" y Panchito decide hacer caso omiso y este fin de semana decidió no abrir su cuaderno del curso. Como era de esperarse, reprobó.
	¿El profesor dijo mentiras? 
	¡Por supuesto que no! 
	¡Si $p$ es falso y $q$ también es falso, entonces $p\rightarrow q$ es verdadera! (vea la tabla \ref{tb_tablaVerdadOperadores}.)
	Es exactamente el mismo caso para cuando $p$ es falso y $q$ verdadero.
	En definitiva: si no se cumple la premisa de un enunciado $p\rightarrow q$, entonces el valor de verdad de $p\rightarrow q$ es verdadero.
	
	La única forma en la que este profesor de Panchito pudo haber dicho alguna mentira (o sea, que el valor de verdad de la condicional sea falsa) es que, a pesar de que Panchito estuvo leyendo y haciendo ejercicios todo el fin de semana, hubiera reprobado.
	Esto es, la única forma de que un enunciado $p\rightarrow q$ sea falsa, es que a pesar de que la condición o premisa $p$ sea verdadera, no se cumpla la conclusión $q$.
	
	Toda esta argumentación queda resumida en la tabla \ref{tb_tablaVerdadOperadores}.
	
	Cabe mencionar que este operador se puede confundir bastante con la noción de implicación ($\implies$) de la que hablaremos después. %TODO: ¿dejar esto aquí?
	
	\item[Bicondicional ($\leftrightarrow$)] Este operador es el equivalente al símbolo de igualdad en álgebra. Es justamente eso: una comparación de igualdad, a diferencia del operador $\triangle$ que es comparación de diferencia.
	
	Si se tienen dos enunciados $p,q$, vamos a decir que $p\leftrightarrow q$ cuando ambos sean verdaderos, o ambos sean falsos.
	
	La elección del símbolo $\leftrightarrow$ es que, como después lo vamos a probar, los enunciados $p\leftrightarrow q$ y $(p \rightarrow q) \wedge (q \rightarrow p)$ se comportan lógicamente idénticos. % TODO: referencia al ejercicio o ejemplo que lo prueba
\end{description}

De aquí en adelante mantendremos el simbolismo de manera correcta, no debemos asignar interpretaciones, excepto tal vez en ejemplos, las oraciones que aparezcan; de esta manera vamos a obtener generalidad en los resultados, podremos aislar el razonamiento lógico del semántico; y más importante, nos deshacemos del ruido que aparece con la complejidad de lo concreto.

Bajo este paradigma, debemos considerar que cada enunciado \emph{atómico} puede ser, independientemente de otros enunciados atómicos, sus ambos valores de verdad (falso o verdadero.)

En el párrafo anterior, nos referimos a un enunciado atómico si no se puede descomponer propiamente en términos de otras oraciones y los operadores lógicos, y diremos que una oración es \emph{compuesta} en caso contrario.
Por ejemplo, el enunciado $r \equiv \neg p \veebar q$ es compuesto, mientras que no necesariamente es el caso de $p,q$, que usualmente se se asumen, cuando no explícitamente sean compuestas, como atómicas.

Una tabla de verdad de una oración $p$ es una guía que nos permite conocer el comportamiento de oraciones arbitrarias usando fuerza bruta.
Se analizan todas las combinaciones de los valores de verdad de todas las oraciones atómicas que aparezcan en $p$, usualmente representados en una tabla.\footnote{también se suelen representar en diagramas de Venn, pero los evitaremos en este capítulo.}
\begin{ejm}
	Encontrar la tabla de verdad de el enunciado $p \wedge \neg q$. Suponga que tanto $p$ como $q$ son atómicos.
	
	Hacemos una tabla que contenga una columna para cada enunciado atómico, y una columna para expresar a $p \wedge \neg q$:

	\begin{center}\begin{tabular}{|c|c|c|}
		\hline
		$p$& $q$ & $p \wedge \neg q$ \\
		\hline \hline
		F & F & F \\
		\hline
		F & V & F \\
		\hline
		V & F & V \\
		\hline
		V & V & F \\
		\hline
	\end{tabular}\end{center}
	donde los caracteres F, V representan los valores de verdad falso y verdadero.
	
	Se suele hacer, con el fin de evitar errores, usar una columna por cada \emph{sub-oración} implicada, por lo que la tabla anterior debería quedar así
	\begin{center}\begin{tabular}{|c|c|c|c|}
		\hline
		$p$& $q$ & $\neg q$ &$p \wedge \neg q$ \\
		\hline \hline
		F & F & V & F \\
		\hline
		F & V & F & F \\
		\hline
		V & F & V & V \\
		\hline
		V & V & F & F \\
		\hline
\end{tabular}\end{center} 
\end{ejm}


Para referencias, la tabla de verdad de cada uno de los operadores mencionados aparece a continuación
\begin{figure}[h]
\begin{center}\begin{tabular}{|c|c||c|c|c|c|c|}
	\hline 
	$p$& $q$ & $p \wedge q $ & $p \vee q$  & $p \veebar q $ & $p \rightarrow q$ & $p \leftrightarrow q$  \\
	\hline \hline
	F & F & F & F & F & V & V \\
	\hline
	F & V & F & V & V & V & F \\
	\hline
	V & F & F & V & V & F & F \\
	\hline
	V & V & V & V & F & V & V \\
	\hline
\end{tabular}\\
\begin{tabular}{|c||c|}
	\hline
	$p$ & $\neg p$ \\
	\hline \hline
	F & V \\
	\hline
	V & F \\
	\hline
\end{tabular}
\end{center}
\caption{Tabla de verdad de los operadores lógicos. Arriba los operadores binarios, abajo el único operador unario no trivial.}
\label{tb_tablaVerdadOperadores}
\end{figure}

Uno suele referirse como tabla de verdad de $p$ a la tabla completa, o únicamente la columna donde aparece la $p$, el contexto nos dirá a cuál nos referimos.

Al momento de evaluar expresiones, uno tiene que decidir el orden de evaluación, por ejemplo si consideramos una oración $s=p\rightarrow q \vee r$, ¿cómo se evalúa? bien podría ser $(p\rightarrow q) \vee r$ o bien $p\rightarrow (q \vee r)$ por lo que nuestra expresión original $s$ podría parecer redundante. Una forma de arreglar este problema es forzando agregar un par de paréntesis por cada operación dentro de un enunciado compuesto; sin embargo, esto nos producirá enunciados cuya cantidad de símbolos crece muy rápidamente, haciéndolo muy difícil entender.

Otra forma de atacar este problema es establecer una jerarquía de operaciones, de esta forma, en ausencia, o en un mismo ámbito, de paréntesis, la operación con mayor jerarquía debe evaluarse primero.
Además, en caso de tener más de una operación en un ámbito, podemos evaluar de izquierda a derecha.

Establecemos el orden de operaciones siguiente (primero que aparece en esta lista, primero que se evalúa, en ausencia de paréntesis): negación, conjunción, disyunción, disyunción excluyente, condicional, bicondicional.

Luego, retomando el enunciado $s=p\rightarrow q \vee r$, con la discusión anterior, queda eliminada toda redundancia: como la operación $\vee$ tiene prioridad sobre $\rightarrow$, la expresión que define a $s$ es una abreviación para $s=p\rightarrow (q \vee r)$, con los paréntesis implícitos expuestos.

\begin{ejm}
	Si quisiéramos colocar explícitamente los paréntesis en una oración compuesta como \[p \rightarrow (q \vee r \veebar q \wedge (p \vee r)) \]
	debería quedarnos como
	\[p \rightarrow ((q \vee r) \veebar (q \wedge (p \vee r)))) \]
\end{ejm}

\begin{ejm}
	Ahora uno puede calcular tabla de verdad de expresiones más complicadas. Considere $\psi = p \wedge q\veebar p$, la tabla de verdad que buscamos es
	\begin{figure}[h]
		\begin{center}\begin{tabular}{|c|c||c|c|c|c|c|}
				\hline 
				$p$& $q$ & $p \wedge q $ & $(p \wedge q) \veebar p$ \\
				\hline \hline
				F & F & F & F \\
				\hline
				F & V & F & F \\
				\hline
				V & F & F & V \\
				\hline
				V & V & V & F \\
				\hline
	\end{tabular}\end{center}\end{figure}
	
	Note que, a pesar de que $\psi$ contiene a $q\veebar p$ como subcadena, no se debe evaluar esta expresión, o sea no debe aparecer en la tabla de verdad de $\psi$ (no es un sub-enunciado.)
\end{ejm}

Uno puede notar que la complejidad de una tabla de verdad de un enunciado $\psi$ puede crecer en dos sentidos: por un lado, entre más enunciados atómicos aparezcan, el número de columnas crece y muy rápido
	\footnote{Como será evidente cuando el lector haya leído el capítulo \ref{ch_combinatoriaEnumerativa}, una tabla tiene $2^n+1$ filas incluyendo la del título, donde $n\geq 0$ es el número de enunciados atómicos que contiene el enunciado.};
y por otro lado, por cada operación que contenga $\psi$.
Usar tablas de verdad para analizar el comportamiento de algún enunciado puede ser un suicidio.
\begin{ejm}
	Construyamos la tabla de verdad de $\psi = \left(p \wedge q \rightarrow p \vee r \right)\wedge \neg \left(q \rightarrow r\right)$
	
	\begin{figure}[h]
	\begin{center}\begin{tabular}{|c|c|c||c|c|c|c|c|c|}
			\hline 
			$p$& $q$ & $r$ & $p \wedge q $ & $p \vee r$ & $p \wedge q  \rightarrow p \vee r $ & $q \rightarrow r$ & $\neg\left(q \rightarrow r\right)$ & $\left(p \wedge q \rightarrow p \vee r \right)\wedge \neg \left(q \rightarrow r\right)$ 
			\\
			\hline \hline
			F & F & F & F & F & V & V & F & F \\
			\hline
			F & F & V & F & V & V & V & F & F \\
			\hline
			F & V & F & F & F & V & F & V & V \\
			\hline
			F & V & V & F & V & V & V & F & F \\
			\hline
			V & F & F & F & V & V & V & F & F \\
			\hline
			V & F & V & F & V & V & V & F & F \\
			\hline
			V & V & F & V & V & V & F & V & V \\
			\hline
			V & V & V & V & V & V & V & F & F \\
			\hline
\end{tabular}\end{center}\end{figure}
\end{ejm}

Como se puede ver el álgebra de operadores de una oración arbitraria queda totalmente determinada por su tabla de verdad, dentro de ella hay dos casos extremos que nos dan cierto interés: cuando siempre es falsa y cuando siempre es verdadera. Esto nos motiva a dar la siguiente definición.

\begin{df}
	Si $p$ es una oración, diremos que $p$ es una \emph{tautología} si su columna en una tabla de verdad está compuesto únicamente de valores verdaderos.
	Y si por el contrario, si $p$ tiene una tabla de verdad que consiste únicamente de valores falsos, se dice que $p$ es una contradicción.
\end{df}

\begin{ejm}
	Construyamos la tabla de verdad de $\psi = (p\rightarrow q)\wedge p \wedge \neg q$.
		\begin{center}\begin{tabular}{|c|c||c|c|c|c|}
			\hline
			$p$ & $q$ & $p\rightarrow q$ & $\left(p\rightarrow q\right)\wedge p$ & $\neg q$& $(p\rightarrow q)\wedge p \wedge \neg q$ \\
			\hline \hline
			F & F & V & F & V & F \\
			\hline
			F & V & V & F & F & F \\
			\hline
			V & F & F & F & V & F \\
			\hline
			V & V & V & V & F & F \\
			\hline
	\end{tabular}.\end{center}
	La columna de $\psi$ sólo tiene falsos, por lo que podemos decir que $(p\rightarrow q)\wedge p \wedge \neg q$ es una contradicción.
\end{ejm}
\begin{ejm}
	Por otro lado, el enunciado $p\wedge q \rightarrow q$ es una tautología, haciendo su tabla de verdad
	\begin{center}\begin{tabular}{|c|c||c|c|}
		\hline
		$p$ & $q$ & $p \wedge q$ & $p\wedge q \rightarrow q$ \\
		\hline\hline
		F & F & F & V \\ \hline
		F & V & F & V \\ \hline
		V & F & F & V \\ \hline
		V & V & V & V \\ \hline
	\end{tabular}\end{center}
\end{ejm}

Va a ser común que tengamos que hacer referencia a una tautología y a una contradicción como parte de un enunciado, por lo que nos conviene establecer símbolos para ellos:
\begin{df}
	Los símbolos $\top$ y $\bot$ representan enunciados que se interpretan como tautología y contradicción, respectivamente.
\end{df}
Ciertamente, en principio bien podrían existir más de una tautología, o contradicción: $p\vee \neg p$ y $q \wedge (p \rightarrow q)$ son ambas tautologías, por lo que pareciera que los símbolos $\top$ y $\bot$ son ambiguos.
¡No hay de qué preocuparse! Cuando definamos, un poco más abajo en la siguiente sección, la igualdad entre oraciones (se llaman equivalencias lógicas) será claro que la tautología y la contradicción son únicas. % TODO: hacer justamente esto

Luego, de ahora en adelante podrán aparecer los símbolos $\bot$ y $\top$ como parte de nuestros enunciados, como sugiere el siguiente ejemplo.

\begin{ejm}
	Considere la oración $\psi \equiv \top \vee (q \veebar p)$. Uno puede mostrar que es una tautología haciendo una tabla de verdad como la siguiente.
	\begin{center}\begin{tabular}{|c|c||c|c|}
		\hline
		$p$ & $q$ & $q\veebar p$ & $\top \vee q\veebar p$ \\
		\hline\hline
		F & F & F & V \\ \hline
		F & V & V & V \\ \hline
		V & F & V & V \\ \hline
		V & V & F & V \\ \hline
	\end{tabular}\end{center}
\end{ejm}

\section{Equivalencias lógicas}
En este momento nos preocupa cuándo dos enunciados representan exactamente lo mismo.
Consideremos la siguiente situación: hay dos oraciones $\psi \equiv \neg (p \vee q)$ y $\phi \equiv \neg p \wedge \neg q$ que nos gustaría comparar, lo más evidente que podemos hacer es construir la tabla de verdad de cada una de ellas
\begin{center}\begin{tabular}{|c|c||c|c|c|c|c|}
	\hline
	$p$ & $q$ & $p\vee q$ & $\psi \equiv \neg (p \vee q)$ & $\neg p$ & $\neg q$ & $\phi \equiv \neg p \wedge \neg q$ \\
	\hline\hline
	F & F & F & V & V & V & V \\ \hline
	F & V & V & F & V & F & F \\ \hline
	V & F & V & F & F & V & F \\ \hline
	V & V & V & F & F & F & F \\ \hline
\end{tabular}\end{center}
¡Vaya!, las columnas que corresponden a $\psi$ y a $\phi$ son idénticas; esto implica, que el álgebra de enunciados no es capaz de discernirlas. ¡Debemos considerarlas iguales!

En aras de \emph{definir} esta igualdad,  recordamos que hay un operador cuya función es determinar si dos valores de verdad son iguales o no: el operador bicondicional $\leftrightarrow$.
Si operamos $\psi$ y $\phi$ con este operador, como sus tablas de verdad son idénticas, entonces la tabla de verdad de $\xi \equiv \psi \leftrightarrow \phi$ debe contener únicamente valores verdaderos %TODO hacer la tabla
\begin{center}\begin{tabular}{|c|c||c|c|c|c|c|c|}
		\hline
		$p$ & $q$ & $p\vee q$ & $\psi \equiv \neg (p \vee q)$ & $\neg p$ & $\neg q$ & $\psi \equiv \neg p \wedge \neg q$ & $\xi \equiv \psi \leftrightarrow \phi$ \\
		\hline\hline
		F & F & F & V & V & V & V & V \\ \hline
		F & V & V & F & V & F & F & V \\ \hline
		V & F & V & F & F & V & F & V \\ \hline
		V & V & V & F & F & F & F & V \\ \hline
\end{tabular}\end{center}

Ciertamente: $\xi$ es una tautología. Esto nos da una motivación para considerar la siguiente noción de igualdad entre oraciones.
\begin{df}\label{df_equivalenciaLogica}
	Si $\psi$ y $\phi$ son enunciados, diremos que son \emph{equivalentes}, denotado por $\psi \iff \phi$ cuando el enunciado $\psi \leftrightarrow \phi$ sea una tautología.
\end{df}

\begin{ejm}
	Por la discusión del ejemplo anterior, tenemos que $\neg (p \vee q)$ y $\neg p \wedge \neg q$ son equivalentes, con símbolos se escribe así: \[\neg (p \vee q) \iff \neg p \wedge \neg q.\]
	A esta equivalencia se le conoce como \emph{ley de De Morgan para la disyunción}
\end{ejm}

\begin{ejm}
	Es fácil, convencerse de que $\neg \neg p \iff p$; basta con hacer la tabla de verdad de $\neg \neg p \leftrightarrow p$ y notar que es una tautología. Esta equivalencia se llama \emph{doble negación}
\end{ejm}

La tabla \ref{tb_EquivalenciasLogicas} contiene una lista de las equivalencias lógicas que vamos a considerar como fundamentales\footnote{en realidad muchas de ellas pueden ser probadas del resto, por lo que estrictamente no son fundamentales.}.
Queremos, de alguna manera, ser capaces de convencernos y demostrar equivalencias sin necesidad de hacer la tabla, para ello vamos a estar invocando estas equivalencias y usándolas como piezas para equivalencias más complejas.

\begin{figure}[h]
\begin{align*}
	\neg \neg p &\iff p & \text{Doble negación}\\
	\neg(p \wedge q) &\iff \neg p \vee \neg q & \text{De Morgan}\\
	\neg(p \vee q) &\iff \neg p \wedge \neg q & \text{De Morgan}\\
	p \vee q &\iff q \vee p & \text{Conmutatividad} \\
	p \wedge q & \iff q \wedge p & \text{Conmutatividad}\\
	p \vee (q \vee r) &\iff (p \vee q) \vee r & \text{Asociatividad}\\
	p \wedge (q \wedge r) &\iff (p \wedge q) \wedge r & \text{Asociatividad}\\
	p \vee (q \wedge r) &\iff (p \vee q) \wedge (p \vee r) & \text{Distributividad} \\
	p \wedge (q \vee r) &\iff (p \wedge q) \vee (p \wedge r) & \text{Distributividad}\\
	p \vee p &\iff p & \text{Idempotencia} \\
	p \wedge p &\iff p & \text{Idempotencia}\\
	p \vee \bot &\iff p & \text{Identidad} \\
	p \wedge \top &\iff p & \text{Identidad}\\
	p \vee \neg p &\iff \top & \text{Inversa}\\
	p \wedge \neg p &\iff \bot & \text{Inversa}\\
	p \vee \top &\iff \top & \text{Dominación} \\
	p \wedge \bot &\iff \bot & \text{Dominación} \\
	p \vee (p \wedge q) &\iff p & \text{Absorción} \\
	p \wedge (p \vee q) & \iff p & \text{Absorción}\\
	p \rightarrow q &\iff \neg p \vee q & \text{Reducción}\\
	p \leftrightarrow q &\iff (p \rightarrow q) \wedge (q \rightarrow p) & \text{Reducción}\\
	p \rightarrow q &\iff \neg q \rightarrow \neg p & \text{Contrapuesta}
\end{align*}
\caption{Lista de equivalencias lógicas básicas. Todas ellas pueden ser demostradas haciendo la correspondiente tabla de verdad. A la derecha aparece un nombre para cada una de ellas.}
\label{tb_EquivalenciasLogicas}
\end{figure}

\subsection{La regla de substitución}
Usaremos las equivalencias de la tabla \ref{tb_EquivalenciasLogicas} como fundamento para obtener nuevas equivalencias, según necesitemos.
Para ello requerimos alguna máquina que nos trasforme una equivalencia ya conocida en algo nuevo.

Construyamos un ejemplo sobre lo que queremos hacer: la ley de la doble negación establece que $\neg \neg p \iff p$ sin tener interpretación sobre la oración $p$.
Cuando definimos una tabla de verdad, tuvimos el cuidado de analizar cada uno de las combinaciones que se pueden formar vía las oraciones atómicas, y definimos equivalencia para que en cada una de las combinaciones los valores de verdad, en este caso de $\neg \neg p$ y $p$ coincidan.
Entonces, si pierdo generalidad, cambiando la interpretación de $p$ por otra oración, digamos $r \vee s$, la equivalencia debe mantenerse, y obtenemos la siguiente equivalencia: \[\neg \neg (r \vee s) \iff r \vee s. \]
¡Enhorabuena! ¡Tenemos nueva equivalencia!

Este proceso cambiar la interpretación de un símbolo atómico por cualquier enunciado se llama \emph{sustitución}, y será la máquina para producir equivalencias que buscábamos.
A los siguientes dos teoremas, en conjunto, le podemos llamar \emph{regla de sustitución}
\begin{thm}[Regla de sustitución 1]
	Si $\psi$ es una tautología, y $p$ una sub-oración atómica de $\psi$. Defina $\psi^\prime$ como el resultado de reemplazar en $\psi$ cada aparición de $p$ por un mismo enunciado (no necesariamente atómica) $q$. Entonces $\psi^\prime$ es también una tautología.
\end{thm}
\begin{thm}[Regla de sustitución 2]
	Si $\psi$ es un enunciado, y $q$ un sub-enunciado de $\psi$ que es equivalente a $r$, entonces si consideramos $\psi^\prime$ como el resultado de reemplazar en $\psi$ una aparición de $q$ por $r$, entonces $\psi \iff \psi^\prime$.
\end{thm}

Estos teoremas son útiles manipulando equivalencias; ya que, por definición son tautologías de la forma $p\leftrightarrow q$.
La regla de sustitución nos dice que podemos sustituir cada aparición de una atómica por la oración que nos dé la gana, y aún así seguir obteniendo una tautología.
Veamos cómo podemos usar la regla de sustitución en un par de ejemplos más:
\begin{ejm}
	Considere la regla de DeMorgan de la tabla \ref{tb_EquivalenciasLogicas} que dice $\neg(p \vee q) \iff \neg p \wedge \neg q$. Sustituya la oración atómica $p$ por $p\wedge \neg q$ y obtenemos una nueva equivalencia \[\neg ((p \wedge \neg q) \vee q) \iff \neg (p \wedge \neg q) \wedge \neg q\]
\end{ejm}
Juntemos todas las piezas para simplificar\footnote{Entiéndase simplificar como encontrar una expresión equivalente, pero tan fácil de leer como sea posible. Es una noción subjetiva, así que diferentes personas puedan tener una idea diferente de qué es ser legible, pero sin duda un buen inicio es reducir la cantidad de operaciones involucrados.} una expresión
\begin{ejm}
	Queremos simplificar la siguiente expresión $\psi = (p\vee q)\wedge \neg(\neg p \wedge q)$. La manera en la que podemos proceder, siendo análogo a simplificar expresiones algebraicas, es empezar de $\psi$, y siguiendo equivalencias otorgadas por la tabla \ref{tb_EquivalenciasLogicas} y modificadas por la regla de sustitución, ir modificando la estructura de $\psi$, paso a paso:
	\begin{align*}
		(p\vee q)\wedge \neg(\neg p \wedge q) & \iff (p \vee q)\wedge \neg \neg p \vee \neg q & \text{De Morgan}
		\\ & \iff (p \vee q)\wedge (p\vee \neg q) & \text{Doble negación}
		\\ & \iff p \vee (q \wedge \neg q) & \text{Distributividad}
		\\ & \iff p \vee \top & \text{Inversa}
		\\ & \iff p & \text{Identidad}
	\end{align*}
	por lo tanto la oración $\psi$ original es equivalente simplemente a $p$. El lector podrá comprobarlo con una tabla de verdad.
\end{ejm}
\begin{ejm}
	Veamos qué tanto se puede simplificar este adefesio: $\neg \left[\neg \left[ (p\vee q)\wedge r\right]\vee \neg q \right]$.
	
	\begin{align*}
		\neg \left[\neg \left[ (p\vee q)\wedge r\right]\vee \neg q \right] & \iff \neg \neg \left[ (p\vee q)\wedge r\right] \wedge \neg \neg q & \text{De Morgan} \\
		& \iff  (p\vee q)\wedge r \wedge q & \text{Doble negación}\\
		& \iff (p \vee q)\wedge (r \wedge q) & \text{Asociatividad}\\
		& \iff (p\vee q)\wedge (q \wedge r) & \text{Conmutatividad}\\
		& \iff (p\vee q)\wedge q \wedge r & \text{Asociatividad}\\
		& \iff q \wedge r & \text{Absorción}
	\end{align*}
\end{ejm}
Antes de cerrar la sección, hay que mencionar la siguiente notación que usaremos de ahora en adelante:
La regla de asociatividad de la conjunción $p \wedge (q \wedge r) \iff p \wedge q \wedge r$ nos dice que no importa cuál conjunción operemos primero, el resultado es exactamente el mismo; así que por el bien de una notación legible, trataremos de evitar paréntesis redundantes: lo dejaremos como $p \wedge q \wedge r$. Y lo análogo para la disyunción.

\section{Inferencias lógicas}
\label{sc_inferenciasLogicas}
El propósito de este capítulo es distinguir un buen argumento de uno erróneo: nuestro principal objetivo no es determinar equivalente, sino \emph{inferencia}.

Consideremos esta situación: Juan, buscando alguna escusa para no repasar las notas de su curso de matemáticas, se promete que si nadie lo invita a jugar League of Legends\footnote{Un juego multi-jugador en línea muy popular en el momento en el que estas notas fueron escritas.} se pondrá a estudiar. Al final nadie lo invitó.

¿Qué podemos inferir de la situación anterior? ¡Que por supuesto Juan se puso a estudiar!

Construiremos las reglas de la lógica que son verdaderamente válidas (evitando falacias, que son muy comunes en argumentos diarios que usamos\footnote{Algunos divulgadores de matemáticas afirman que el principal propósito de las matemáticas en la sociedad y en la democracia ¡es evitar que te engañen!})

De manera análoga a como definimos equivalencia lógica en la definición \ref{df_equivalenciaLogica}, extraigamos del ejemplo anterior de Juan, la forma:

Sea $p$ la oración ``Juan repasa sus apuntes de matemáticas" y $q$ que sea ``Alguien invita a Juan a jugar".
Hay dos oraciones que nos da la situación, que lo podemos escribir simbólicamente: $\neg q\rightarrow p$ y también $\neg q$.
Recordemos que el propósito del operador condicional es determinar cuándo es verdad que si ocurren algunas oraciones (condiciones) se cumple alguna otra oración (conclusión) que es justamente lo que queremos, de hecho queremos que eso suceda siempre, y por supuesto, que suceda siempre se llama tautología.

La premisa es que suceden dos cosas que podemos juntar con una conjunción: $(\neg q \rightarrow p) \wedge \neg q$ y la conclusión debería ser $p$. Pues hagamos la tabla de verdad de $(\neg q \rightarrow p) \wedge \neg q \rightarrow p$:
\begin{center}\begin{tabular}{|c|c||c|c|c|c|c|}
	\hline
	$p$ & $q$ & $\neg p$ & $\neg p \rightarrow q$ & $\neg q$ & $(\neg p \rightarrow q)\wedge \neg q$ & $(\neg p \rightarrow q)\wedge \neg q \rightarrow p$ \\
	\hline \hline
	F&F&V&F&V&F&V\\ \hline
	F&V&V&V&F&F&V\\ \hline
	V&F&F&V&V&V&V\\ \hline
	V&V&F&V&F&F&V\\ \hline
\end{tabular}\end{center}
¡Es una tautología!\footnote{Nótese que podríamos haber usado equivalencias para convencernos de que es una tautología en lugar de hacer la tabla.}

Podemos definir inferencia basados en el ejemplo anterior
\begin{df}
	Si $\psi$ y $\phi$ son dos oraciones, diremos que $\psi$ implica $\phi$, denotado por $\psi \implies \phi$ cuando la oración $\psi \rightarrow \phi$ sea una tautología. 
\end{df}
Hay hacer la siguiente observación importante. 
Conocemos la equivalencia %TODO: ¿de dónde la conocemos?
\begin{equation}\label{eq_reduccion}
	p \leftrightarrow q \iff (p \rightarrow q) \wedge (q \rightarrow p).
\end{equation}
Si $p$ y $q$ son equivalentes implica que el lado izquierdo de la equivalencia \ref{eq_reduccion} es una tautología, por lo que la conjunción del lado derecho también lo es, y la única forma de que esto suceda es que tanto $p \rightarrow q$ y $q\rightarrow q$ sean ambas tautologías; esto es, que $p\implies q$ y $q \implies p$.
Recíprocamente, si $p \implies q$ y también $q \implies p$ implica que el lado derecho de la equivalencia \ref{eq_reduccion} es una tautología, así que el lado izquierdo también lo es; esto quiere decir que $p\iff q$.
El siguiente teorema resume esta discusión
\begin{thm}
	Dados dos oraciones $p,q$, son equivalentes
	\begin{enumerate}
		\item $p$ y $q$ son equivalentes.
		\item $p \implies q$ y $q \implies p$
	\end{enumerate}
\end{thm}
Hay dos cosas importantes que rescatar de este teorema:
lo primero es que toda equivalencia es una implicación, en particular toda regla en la tabla de equivalencias lógicas \ref{tb_EquivalenciasLogicas} es una regla de inferencia.
Lo segundo: tenemos una nueva forma de obtener equivalencias: si queremos mostrar que $p \iff q$, basta probar que $p$ implica $q$ y que $q$ implica $p$; lo cual típicamente es más fácil que hacer una propia equivalencia usando tablas de verdad, o usando las leyes lógicas.

Discutiremos ahora, de manera análoga a las leyes de equivalencia, un conjunto fundamental de inferencias para que usando las reglas de sustitución, podamos hacer inferencias de complejidad arbitraria.
\begin{description}
	\item[Modus Ponens] % TODO: terminar ésta regla, y el resto. Deben incluir nombre, símbología y tabular, intuición, demostración y ejemplo de uso. 
\end{description}
% TODO: la lista de inferencias en tabla.

\section{Cuantificadores}
Este lenguaje que hemos desarrollado es sin duda una gran ayuda para desarrollar matemáticas, pero nos va a quedar corta.
Considere por ejemplo el teorema de pitágoras en su forma trigonométrica: \[cos^2 x + \sin^2 x = 1.\]
Bajo la lógica que hemos desarrollado hasta este momento, tendríamos que hacer una lista infinita de igualdades, una para cada valor de $x$ en la ecuación anterior, lo cual es nos causaría muchos problemas;
en lugar de ello, introducimos un par de símbolos nuevos al lenguaje: \emph{cuantificadores}.

\begin{df}
	Un \emph{enunciado abierto} es una expresión declarativa con términos no declarados (variables libres) de tal manera que al sustituirlos por objetos de algún tipo específico se convierten en oraciones.
\end{df}
Más adelante daremos una definición más satisfactoria, por ahora quedémonos con una correcta intuición.
\begin{ejm}
	La expresión $p(x) = cos^2 x + \sin^2 x = 1$ es un enunciado abierto cuya única variable libre es $x$.
	Si se sustituye $x$ por cualquier objeto (número en este contexto) se convierte en una oración, algo así como \[p(\pi) = \cos^2(\pi) + \sin^2(\pi) = 1\]
	que uno se puede convencer que es un enunciado, que es verdadero.
	
	Nótese que el enunciado abierto $p(x)$ no tiene asignado un valor de verdad ya que no es un enunciado: la oración \[\cos^2 x + \sin^2 x = 1\]
	carece de significado.
\end{ejm}
\begin{ejm}
	Si $p$ es un enunciado, se sigue de la definición que $p$ también es un enunciado abierto, ya que no hay variables libres las cuales sustituir.
	
	A lo largo de estas notas vamos referirnos como enunciados abiertos a los enunciados propiamente abiertos, o sea aquellos enunciados que ciertamente tienen variables libres; al menos que se haga explícito lo contrario.
\end{ejm}
% TODO: ejemplos fuera de matemáticas, y de evaluar proyecciones de abiertos.
Nos serán de utilidad los enunciados con exactamente una variable libre.
\begin{df}
	Un \emph{predicado} es un enunciado abierto con exactamente una variable libre. 
\end{df}
De nuevo consideramos el predicado $p(x) = \cos^2 x + \sin^2 x = 1$, en un curso de trigonometría se nos enseñan que esa igualdad es cierta para cualquier número $x$; o sea se nos enseña que
\[q = \cos^2 x + \sin^2 x = 1\quad \text{para cualquier } x \]
Introducimos un símbolo ``$\forall$" que se interprete justamente así: ``para cualquier", así que la definición de $q$ de arriba quedaría
\[q = \cos^2 x + \sin^2 x = 1\quad \forall x\]
y un último retoque: vamos a hacer que se ``declare la variable" antes de usarla, y nos quedaría así:
\begin{equation}
	\forall x\, \cos^2 x + \sin^2 x = 1;
\end{equation}
así es como sí tiene sentido la ecuación, y así es lo que los libros de trigonometría nos quieren decir.

\begin{df}
	Si $p(x)$ es un predicado, nos construimos el enunciado \[\forall x\, p(x)\] interpretado como verdadero si para toda $x$ se satisface $p(x)$; falso en otro caso.
\end{df}

El enunciado $\forall x\, p(x)$ se suele leer como ``para toda $x$, $p(x)$", aunque por supuesto dependiendo del contexto uno suele cambiar las palabras para que suene más alineado al español.

% TODO: repensar cómo escribir esto
Consideremos la ecuación cuadrática 
\[x^2 -4x + 3 = 0.\] % (x-1)(x-3)
Es muy probable que el lector le esté buscando soluciones; ciertamente, si uno sustituye el valor de $x$ por el número 1 la igualdad se satisface.
Uno puede expresar lo que acaba de ocurrir con nuestro lenguaje: si consideramos el predicado $p(x) \equiv\footnote{No podemos usar aquí el símbolo de igualdad para definir a $p(x)$ porque se puede confundir como parte de una ecuación, así que nos conviene en este caso usar una triple horizontal $\equiv$ para distinguirlo de la igualdad $=$.} x^2 -4x + 3 = 0$ podremos darnos cuenta que $p(1)$ es verdadero por la sustitución que hicimos anteriormente.
% TODO: comprar con otro ejemplo sin soluciones (tal vez debería hacer este ejemplo primero, como ejemplo de un universal)

Ahora, por supuesto que una oración puede tener más de un cuantificador, expresiones como $\exists x \exists y\, x^2 = y + 1$ tienen sentido en la lógica, ésta en particular es verdadera porque $1^2 = 0 + 1$ (tomando $x=1$ y $y=0$). Exploremos algunos ejemplos.

\begin{ejm}
	Considere el enunciado abierto $p(x,y)\equiv x^2=y$.
	
	Dejando a $x$ correr libre, y cuantificando $y$ con una existencial tenemos el enunciado abierto $\exists y\, x^2=y$, que para cada $x=x_0$ particular se convierte en $\exists y\, x_0^2=y$ que se podría decir en lenguaje coloquial ``$x_0$ tiene un cuadrado" (¿Puede el lector explicar por qué?) el cual es verdadero para cualquier $y$.
	Hemos, por lo tanto, concluido que $\forall x \exists y \, x^2=y$.

	Por otro lado, si consideramos el enunciado abierto $\forall y\, x^2=y$ en el que si fijamos $x=x_0$ se convierte en la oración $\forall y\, x_0^2=y$; esto es, el cuadrado de este $x_0$ es igual a cualquier número. ¡ABSURDO! ¡No puede ser que un número sea igual a cualquier otro, esto implicaría que no hay más de un número! ciertamente la oración es falsa sin importar el valor de $x_0$ y concluimos que $\forall x \exists y\, x^2=y$ tiene un valor de verdad falso.
\end{ejm}

\subsubsection{Cuantificadores iterados}
Los cuantificadores nos abrieron la puerta para expresar ideas más complejas que las que nos ofrecen los enunciados de primer orden, lo cierto es que un sólo cuantificador es muy poco (por no mencionar que algebraicamente es un horror) por lo que abrimos la posibilidad de iterar múltiples cuantificadores.
Estudiaremos cómo interactúan los cuantificadores en un mismo enunciado, y postularemos equivalencias e inferencias sobre ellos

\begin{ejm}\label{ej_relaciónPadre}
	Considere un universo $\Omega$ formada por todas las personas habidas y por haber. Uno puede crear los predicados de relaciones sociales a partir de relaciones sencillas:
	consideremos que $p(x,y)$ es verdadero si y sólo si $x$ es hijo(a) de $y$.
	
	¿Por qué no analizamos todas las posibilidades y órdenes en las que se puedan cuantizar las variables libres $x,y$ de $p$?
	
	\begin{description}
		\item[$\exists x \exists y\, p(x,y)$:] Ésta es muy sencilla, aquí sólo dice que hay una persona ($x$) que es hijo(a) de alguien ($y$).
		\item[$\exists y \exists x\, p(x,y)$:] Ésta dice exactamente lo mismo que el caso anterior, en ambos casos sólo se requiere que exista alguna relación directa de sangre.
		\[\exists x \exists y\, p(x,y)\iff\exists y \exists x\, p(x,y) \]
		
		Esta observación se cumple independientemente de cómo se interpreta $p$, según lo dice el teorema \ref{thm_implicacionesOrdenCuantificadores}.
		
		Para evitar escribir muchos símbolos en una oración, a veces se suele abreviar $\exists x \exists y\, \phi(x,y)$ como $\exists x,y\, \phi(x,y)$, de alguna manera ``factorizando'' el cuantificador.
		Esta notación hace más evidente que el orden en el que aparezcan cuantificados dos existenciales no importa.
		Así podemos escribir
			\[\exists x \exists y\, p(x,y)\iff\exists x,y\, p(x,y) \]
			
	\item[$\forall x \forall y\, p(x,y)$:] Este enunciado se podría leer	``para toda persona $x$ y para toda persona $y$, $x$ es hijo(a) de $y$.'', o más naturalmente, ``todos son hijos de todos'', cosa que evidentemente es falso con la interpretación de $p$ en su universo $\Omega$.
	
	El mismo argumento que en el ejemplo anterior aplica aquí: 
	\begin{enumerate}
		\item El orden en el que aparecen cuantificados dos variables con un cuantificador universal es irrelevante:
		\[\forall x \forall y\, \phi(x,y) \iff \forall y \forall x\, \phi(x,y) \]
		\item Podemos escribir $\forall x,y\, \phi(x,y)$ en lugar de $\forall x \forall y\, \phi(x,y)$
	\end{enumerate}
	
	\item[$\forall x \exists y\, p(x,y)$:] Leyendo este enunciado de manera literal ``Todo $x$ tiene un $y$ de tal suerte que $x$ es hijo de $y$''; si lo convertimos a algo más natural podría ser ``toda persona tiene un padre(madre)'', que naturalmente debería ser cierto\footnote{Excepto por \emph{la primer persona} que existió, dejaremos esta discusión para la unidad sobre inducción.} %TODO: hacer esta discusión (el huevo o la gallina)
	
	\item[$\forall y \exists x\, p(x,y)$:] Si cambiamos qué variables aparecen en cada cuantificador llegamos a este caso que se lee ``toda persona $y$ tiene una $x$ de tal forma que $x$ es hijo(a) de $y$``, o bien ``toda persona tiene un hijo(a)''.
	En esta ocasión el enunciado es falso, ya que hay personas sin descendencia.
	
	Es importante notar entonces que incluso si $\forall x \exists y\, p(x,y)$ fue verdadero, es falso que $\forall y \exists x\, p(x,y)$.
	
	\item[$\exists x \forall y \, p(x,y)$:]Este ejemplo es justamente el caso anterior, pero con el orden de los cuantificadores cambiados; leyéndose ``Existe $x$ tal que para todo $y$ $x$ es hijo(a) de $y$'', o bien, ``Hay alguien quien es hijo(a) de todos''.
	Hay que notar que la interpretación es abrumadoramente distinta al caso anterior, cuando únicamente cambiamos de orden los cuantificadores.
	
	La lección aquí es que, el orden importa (en el sentido de qué variable aparece cuantificada, y con qué cuantificador) cuando los cuantificadores son distintos.
	El teorema \ref{thm_implicacionesOrdenCuantificadores} nos da algunas relaciones de implicación que siempre se cumplen.
	
	\item[$\exists y \forall x\, p(x,y)$:] Leído ``existe $y$ tal que para toda $x$, $x$ es hijo(a) de $y$''; o bien ``Hay un padre(madre) de todos'', que es falso.
	\end{description}
\end{ejm}
Cabe mencionar que en lógica, uno habla de la \emph{complejidad} de un enunciado en función del número de cuantificadores que aparecen, y de su primer cuantificador leído de izquierda a derecha. 
Por ejemplo, $\forall x\,\phi(x)$ tiene complejidad $\Pi_1$, y $\exists x \forall y\, \phi(x,y)$ tiene complejidad $\Sigma_2$.

Un resultado muy bonitos sobre esta complejidad es el siguiente teorema. % TODO: teorema sobre equivalencias e inferencias sobre el orden cuantificadores
\begin{thm}
	Si $p(x,y)$ es un enunciado abierto con variables libres $x,y$, entonces % TODO
	
	\label{thm_implicacionesOrdenCuantificadores}
\end{thm}

\begin{ejm}
	Recordemos el contexto del ejemplo \ref{ej_relaciónPadre}.
	Notemos las siguientes afirmaciones
	\begin{enumerate}
		\item $p(x,y)$ significa que $y$ es madre(padre) de $x$.
		\item Un par de personas son medio hermanos si comparten una madre(padre); esto simbólicamente se escribe \[h(x,y) \equiv \exists z \, \left( h(x,z) \wedge h(y,z)\right),\]
		esto es, $x,y$ son medio hermanos si existe alguna madre(padre) de ambos.
		
		\item Para que $x,y$ sean hermanos, debe ocurrir que no solamente tengan un progenitor inmediato, sido dos; esto lo podemos escribir así
		\[H(x,y)\equiv \exists z_1 \exists z_2 \, \left(z_1 \neq z_2 \wedge p(x,z_1) \wedge p(x_z2) \wedge p(y,z_1) \wedge p(y,z_2) \right) \]
		
		\item Se pueden separar a las personas en dos tipos: las que dejan descendencia y las que no.
		Las que dejan descendencia son los $x$ que cumplen el siguiente predicado
		\[d(x)\equiv \exists y\, p(y,x) \]
		y por lo tanto los que no dejan descendencia es su negación
		\begin{align*}
			\neg d(x) 
			& \iff \neg \exists y\, p(y,x)\\
			& \iff \forall y\, \neg p(y,x)
		\end{align*}
		\item Como nuestro universo contiene a todas las personas que hayan existido, debe ocurrir que toda persona tenga un padre y una madre. Esto se puede escribir rigurosamente en nuestro lenguaje  % TODO: está incompleto. Tal vez quede muy complejo: hay que decir que hay dos padres diferentes, y si alguien es papá, debe ser alguno de ellos
		\[\forall x \forall y \exists z_1 \exists z_2 \, \left(z_1 \neq z_2 \right) \]
		\item Uno entonces puede utilizar estos enunciados para ir produciendo otros más complejos: se dice que $x$ es sobrino(a) de $y$ si $x$ es el hijo de un hermano de $y$; o sea, que existe una persona $z$ que es hermano(a) de $y$ y padre(madre) de $x$:
		\begin{equation}\label{eq_tio}
			\exists z \, \left(H(z,y) \wedge p(x,z) \right),
		\end{equation}
		y si uno quiere, se puede expresar puramente en términos de $p$ si sustituimos $H$ en \ref{eq_tio} y aplicando algunas leyes de equivalencia queda de la siguiente forma:
		\begin{equation*}
			\exists z,z_1,z_2 \,
			\left( 
				z_1 \neq z_2 \wedge 
				p(x,z_1) \wedge 
				p(x,z_2) \wedge 
				p(y,z_1) \wedge 
				p(y,z_2	\wedge 
				p(x,z)
			\right)
		\end{equation*}
		lo cual yo creo que es una mala idea; de aquí la importancia de la \emph{abstracción}.
	\end{enumerate}
\end{ejm}
% TODO: dejaré este capítulo por ahora

\chapter{Teoría ingenua de conjuntos}
Durante el capítulo anterior desarrollamos herramientas lógicas \emph{de bajo nivel} que nos ayudarán en construir de manera precisa y robusta las matemáticas que nos conciernen en el resto de este trabajo, sin mencionar el alto grado de fundamentación que serán reutilizados fuera del ámbito de estas notas.

En este capítulo se construirá un lenguaje de teoría de conjuntos
\footnote{El lenguaje de la teoría de conjuntos es un objeto bien definido dentro de la intersección de la lógica y la teoría de conjuntos, pero está fuera de nuestra motivación presentarlo. %TODO referencias
}
que es, de alguna forma, un lenguaje de nivel medio, que sirve como mediador entre la lógica y las matemáticas que queremos construir.

El objeto de estudio de este capítulo es el \emph{conjunto}, noción que no vamos a definir por ser bastante primitivo y no queremos meternos con el problema de la cebolla %TODO ¿explicar en una nota?
pero los objetos quedarán claros al desarrollar contenido alrededor de ellos

\begin{df} % TODO: ¿noción?
	Un \emph{conjunto} es una colección desordenada de objetos que no distingue repetición.
\end{df}

El hábil lector pudo darse cuenta de que estamos definiendo conjunto en términos de sí mismo (o algo equivalente: colección.) Esto ciertamente causa malestar; este problema se puede arreglar axiomatizando las reglas de la teoría de conjuntos, pero el autor cree que no se deba proceder así en un trabajo como el presente.   % TODO: referencia a algún libro de teoría de conjuntos
% TODO: agregar contexto histórico 

El único propósito de un conjunto es delimitar de una manera clara y concisa cuáles con los elementos que pertenecen a él; y de igual manera, lo único que un conjunto \emph{sabe}, es cuáles son sus elementos.
En otras palabras, de alguna manera un conjunto y un predicado son de alguna manera objetos parecidos, pero hay que \emph{tomar con pinzas} esto, ya que no es difícil llegar a paradojas.
Exploremos el siguiente ejemplo, para explicar a qué me refiero y simultáneamente para introducir notación.

Considere el conjunto $A$ de todos los continentes del planeta\footnote{Usando el modelo de los 6 continentes.}, es claro que, sin la mínima ambigüedad, América ($x$) y África ($y$) son miembros de este conjunto; sin embargo México ($z$) no lo es.
Esto se puede escribir simbólicamente como $x \in A, y\in A, z \notin A$, o bien, $x,y\in A, z\notin A$. 
Los símbolos $\in$ y $\notin$ se leen ``pertenece" y ``no pertenece" respectivamente.

Mencionamos que lo único que conoce $A$ es cuáles son sus elementos, con esto nos referimos a que el conjunto $A$ carece de cualquier estructura interna. $A$ no sabe nada acerca de esos continentes, de hecho no sabe qué es un continente. $A$ no sabe cuál es el primero, segundo, o tercer continente y tampoco sabe si los objetos América y África sea la misma cosa o no, y no le interesa.

Lo único que sabe un conjunto es si un objeto es o no un elemento de él.

Hay dos formas\footnote{En realidad sólo basta con predicados, la exhaustiva es una consecuencia de ésta, pero es mejor separarlas para facilitar la comprensión} de describir un conjunto:
\begin{description}
	\item[Exhaustiva] Se exponen explícitamente los elementos de tal conjunto.
	
	En el ejemplo de los continentes, podríamos haber escrito \[A = \set{\text{América}, \text{Europa}, \text{Asia}, \text{África}, \text{Oceanía}, \text{Antártida}}\]
	
	Esto nos deja sin ambigüedad: un objeto es elemento de un conjunto si aparece en la lista; y no es elemento si no aparece.
	Cabe notar que, cuando escribimos los elementos de un conjunto, no le estamos imbuyendo el orden en el conjunto: el conjunto que estamos definiendo no alcanza a ver cómo lo definimos.
	
	\item[Predicado] Como lo mencionamos varias veces: lo único que sabe un conjunto es cuáles son sus elementos, si tenemos una máquina que me diga si un objeto cumple alguna propiedad o no, podemos agrupar a todos aquellos que cumplen tal propiedad; ¡Pero por supuesto que tenemos esta máquina! ¡Se llaman predicados!
	
	Si tenemos un predicado $p$, le podemos asociar el conjunto $A$ de todos los objetos $x$ que cumplen la propiedad $p$. 
	\[x\in A \iff p(x);\]
	esto es, A es el conjunto de todos los objetos que cumplen con un predicado $p$, y se suele escribir así: $A$ es el conjunto de todos los $x$ tal que $p(x)$; o con símbolos:
	\[A = \set{x : p(x)}\]
	
	En el ejemplo de los continentes, así fue justamente como lo definimos. Explícitamente declaramos que $A$ es el conjunto de los continentes. Con símbolos podríamos haber escrito
	\[A = \set{x : x\text{ es un continente}}\]
\end{description}

\begin{ejm}	\begin{itemize}
	\item Uno puede definir $A$ de manera exhaustiva como $A=\set{0,1,2,3}$; incluso, se suele hacer un poco de trampa y definir conjuntos de manera exhaustiva estableciendo un patrón:
	\[\mathbb{N} = \set{0,1,2,3,\ldots}\]
	$\mathbb{N}$ es el conjunto de todos los números naturales, o números enteros no negativos.
	
	Obsérvese que el conjunto $A$ se puede escribir como el conjunto de todos los números naturales no mayores que 3.
	\[A = \set{x : x \in \mathbb{N} \wedge x \leq 3},\]
	
	\item Considere el conjunto $A=\set{x : 0\leq x < 5}$, todos los objetos entre 0 y 5, inclusive-exclusive. El conjunto $A$ está escrito de una manera ambigua o indefinida, según cómo lo piense el lector: estamos definiendo a $A$ en términos de un símbolo de comparación $\leq$ o $<$, pero no tenemos forma, o no hemos definido este objeto en tan generalidad. Probablemente sea necesario delimitar el universo para que esto tenga sentido. 
	Si pensamos únicamente en números naturales (y así $\leq$ es el orden usual en ellos) obtenemos el conjunto
	\[B = \set{x \in \mathbb{N}: 0\leq x < 5}\]
	cuyos elementos son únicamente 0,1,2,3 y 4; o sea, $B = \set{0,1,2,3,4}$.
	
	Si por otro lado, delimitamos a todos los números reales
	\[C = \set{x \in \mathbb{R}: 0\leq x < 5}\]
	obtenemos un conjunto infinito, que entre sus filas se encuentran el 0, 0.5, 2.11, $\pi$, $e$, $\sqrt{3}$, etc.
	Claramente $B \neq C$.
	
	\item % El ejemplo donde aparce la existencial
\end{itemize}\end{ejm}

Es común que los conjuntos aparezcan como elementos de otros conjuntos, como sugiere el siguiente ejemplo.
\begin{ejm}
	Si $A = \set{0,1, \set{0,1}}$, aquí $A$ tiene tres elementos (distintos): $0$, $1$ y otro elemento es el conjunto $\set{0,1}$ cuyos elementos son el $0$ y el $1$.
\end{ejm}

\begin{ejm}
	Considere el conjunto $A= \set{0,\set{0}, \set{\set{0}}}$ que tiene tres elementos: el elemento $0$, el elemento $\set{0}$ que es un conjunto cuyo único elemento es $0$; y el elemento $\set{\set{0}}$ que es el conjunto cuyo único elemento es el conjunto cuyo único elemento es $0$.
	Si esto suena confuso es que vamos por buen camino, la confusión deberá ser nuestra brújula a lo largo de este trabajo.
\end{ejm}

De donde se enriquecen las matemáticas no es de los objetos de estudios en sí, sino de la forma en la que interactúan entre sí, su combinatoria.
Exploraremos esto en las siguientes secciones.
\section{Subconjuntos}
% TODO algún texto de apertura y motivación
\begin{df}
	Si $A,B$ son conjuntos. Diremos que $A$ es un subconjunto de $B$ ($A\subseteq B$) si todo elemento de $A$ es también un elemento de $B$; o de manera simbólica, si
	\[\forall x\, x\in A \implies x \in B \]
\end{df}

% TODO: Un diagrama de Venn
\begin{ejm}
	Si $A=\set{0,1}$ y $B=\set{0,1,2}$, entonces $A\subseteq B$ porque todos los elementos de $A$ (0 y 1) son también elementos de $B$
\end{ejm}

\begin{ejm}
	Si $A=\set{0,0,0,0,0}$ y $B=\set{0,1}$ entonces, aunque $A$ enliste ``más elementos" que $B$ se tiene que $A\subseteq B$ porque todo elemento de $A$ (el único, $0$) es elemento de $B$ ($0 \in B$). 
\end{ejm}

Como vamos a trabajar mucho con el símbolo $\subseteq$, necesitamos tener clara la negación de $A\subseteq B$, que la vamos a denotar por $A \not \subseteq B$
\begin{align*}
	A \not \subseteq B &\equiv \neg (A \subseteq B) & \\
	&\iff \neg (\forall x\, x \in A \implies x \in B)\\
	&\iff \exists x\, \neg (x \in A \implies x \in B)\\
	&\iff \exists x\, \left( x\in A \wedge x \notin B \right)
\end{align*}

\begin{ejm}
	Considere $A = \set{0,1}$, $B=\set{0,\set{0,1}}$ entonces se cumple que $A\in B$, pero no es cierto que $A\subseteq B$, ya que $1\in A$, pero $1 \notin B$.
\end{ejm}

\begin{df}
	Dos conjuntos son iguales si contienen exactamente los mismos elementos; es decir,
	Si $A,B$ son conjuntos, decimos que $A=B$ si \[\forall x \, \left(x\in A \iff x \in B \right) \]
\end{df}

\begin{ejm}
	Los siguientes conjuntos $A=\set{0,1}$, $B=\set{1,0}$ son el mismo porque los únicos elementos de ambos son el 0 y el 1; no hay otro. Por eso decíamos que un conjunto no guarda orden.
\end{ejm}

Vale la pena observar que si $A,B$ son conjuntos entonces 
\begin{align*}
	A = B 
	&\iff \forall x\, \left(x\in A \iff x \in B\right)\\
	&\iff  \forall x\, \left( (x\in A \implies x \in B) \wedge ((x\in B \implies x \in A))\right) \\
	&\iff \forall x\, (x\in A \implies x \in B) \wedge \forall x\, (x\in B \implies x \in A)\\
	&\iff A \subseteq B \wedge B \subseteq A
\end{align*}
por lo que dos conjuntos son iguales si y sólo si cualquiera de ellos está contenido en el otro:
\begin{thm}\label{thm_igualdadConjuntos}
	Dados dos conjuntos $A,B$ se cumple que
	\[A = B \iff A \subseteq B \wedge B \subseteq A \]
\end{thm}

\begin{ejm}
	Considere $A = \set{0,1}$ y $B=\set{0,0,1}$. Es claro que $A \subseteq B$; sin embargo, si uno hace el trabajo con cuidado, uno puede notar que todo elemento de $B$ es también un elemento de $A$, lo que significa que $B \subseteq A$.
	Por el teorema anterior \ref{thm_igualdadConjuntos} se deduce que $A=B$, aunque en apariencia uno tenga más elementos que otro.
	
	A esto nos referimos con que un conjunto no tiene elementos repetidos: no es que no los tenga, es que no los ve.
\end{ejm}

% TODO: incluir ejemplos como en la primer tarea.

\begin{ejm}
	Considere $A=\set{0,1}, B=\set{0,1,\set{0,1}}, C=\set{\set{0,1}}, D= \set{\set{0}}$. Entonces:
	\begin{itemize}
		\item $A\in B$ y también $A\subseteq B$.
		\item $A\in C$, pero $A \not \subseteq C$ porque $0 \notin C$.
		\item $A\notin D$, y $A\not \subseteq D$ por la misma razón
	\end{itemize}
\end{ejm}

El símbolo $\subseteq$ debe pensarse como una mutación de la relación de orden de los números $\leq$ pero curvada.
Luego, en los números el término $x<y$ significa que $x\leq y$ pero $x \neq y$, o sea. 

\begin{df}
	Si $A,B$ son conjuntos, vamos a escribir $A \subset B$ como un sinónimo de $A \subseteq B \wedge A \neq B$.
\end{df}
Ahora, como $A = B \iff A \subseteq B \wedge B \subseteq A$ entonces
\begin{equation*}
	A \subset B \iff A \subseteq B \wedge B \not \subseteq A.
\end{equation*}

\begin{ejm}
	$\set{0} \subseteq \set{0}$, pero es falso que $\set{0} \subset \set{0}$ porque son el mismo conjunto.
\end{ejm}

\begin{ejm}
	$\set{0} \subset \set{0,1}$ porque $\set{0} \subseteq \set{0,1}$ y además los conjuntos $\set{0}$ y $\set{0,1}$ son distintos.
\end{ejm}

\section{El conjunto vacío}
Entre todos los conjuntos hay uno que destaca por su simpleza: el que no tiene elementos

\begin{df}\label{df_vacio}
	Un conjunto $A$ es \emph{vacío} si no tiene elementos; es decir si,
	\[\forall x\, x\in A \implies \bot.\]
\end{df}

\begin{thm}\label{thm_vacioContenido}
	Si $A,B$ son conjuntos, y $A$ es vacío, entonces $A\subseteq B$.
\end{thm}
\begin{proof}
	Supongamos que $A \not \subseteq B$, luego $\exists x\, \left(x\in A \wedge x \notin B \right)$, en particular $\exists x\, x\in A$.
	Como $A$ es vacío y $x\in A$ se sigue por la definición \ref{df_vacio} que $\bot$. 
	Tenemos una contradicción que emerge de la suposición de $A \not\subseteq B$; así que $A \subseteq B$.
\end{proof}
\begin{thm}
	Si $A,B$ son vacíos, entonces $A=B$
\end{thm}
\begin{proof}
	Por el teorema \ref{thm_vacioContenido} se sigue que $A\subseteq B$, y por el mismo teorema que $B\subseteq A$.
	Por lo tanto $A=B$.
\end{proof}

Hemos probado que el conjunto vacío es único. Hay que ponerle nombre
\begin{df}
	Al conjunto vacío se le denota por $\emptyset$.
\end{df}

%%%% OPERADORES UNARIOS Y BINARIOS DE PRIMER ORDEN

%%%% PROPIEDADES OPERACIONALES Y DEMOSTRACIONES

%%%% PRODUCTO CARTESIANO

%%%% CONJUNTO POTENCIA

%%%% OPERACIONES INDEXADAS

\chapter{Relaciones y funciones}
\label{ch_funciones}

%%%% RELACIONES  (Y PAREJAS ORDENADAS)

%%%% LUGARES GEOMÉTRICOS?

%%%% FUNCIONES

%%%% PARTES DE UNA FUNCIÓN: SIGNATURA Y REGLA

%%%% RESTRICCIÓN DE FUNCIÓN

%%%% EXTENSIÓN DE FUNCIÓN

%%%% IMAGEN DE UNA FUNCIÓN

%%%% FUNCIONES INYECTIVAS

%%%% SOBREYECTIVIDAD

%%%% BIYECTIVIDAD

%%%% COMENTARIOS SOBRE CARDINALIDAD, PRINCIPIO DE CASILLAS E INYECTIVIDAD Y SOBREYECTIVIDAD

%%%% COMPOSICIÓN DE FUNCIONES

%%%% PERMUTACIONES Y EL ÁLGEBRA DE COMPOSICIÓN

%%%% LA FUNCIÓN INVERSA

%%%% IMAGEN Y PREIMAGEN

\section{Recursión}
	
%%%% EL PRINCIPIO DEL BUEN ORDEN DE LOS NATURALES

%%%% FUNCIONES RECURSIVAS

%%%% APLICACIONES

%%%% RELACIONES MAL FUNDADAS

%%%% LA INDUCCIÓN DEBIL: RESOLVER RELACIONES RECURSIVAS DE MEMORIA FIJA

%%%% LA INDUCCIÓN FUERTE

%%%% APLICACIÓN: DIVISIVILIDAD

%%%% INDUCCIÓN SOBRE ENUNCIADOS DE DIVISIBILIDAD

%%%% EL ALGORITMO DE LA DIVISIÓN

%%%% MÁXIMO COMÚN DIVISOR

%%%% ALGORITMO DE EUCLIDES

%%%% CAMBIOS DE BASE NUMÉRICA

%%%% OTRAS ESTRUCTURAS BIEN ORDENADAS: ÁRBOLES Y ASOCIADOS
\chapter{Combinatoria enumerativa}
\label{ch_combinatoriaEnumerativa}
La combinatoria enumerativa es una rama de las matemáticas que nace de la clase de preguntas \emph{¿De cuántas formas puede ocurrir tal fenómeno}, \emph{¿Cuántos objetos cumplen esta característica?}, etcétera; por lo que en este capítulo se desarrollarán  sofisticadas y potentes técnicas de conteo. Nuestro lenguaje básico sigue siendo la teoría de conjuntos, así que enunciaremos los teoremas sobre ésta, y a través de los ejemplos veremos cómo se pueden particularizar para resolver problemas.

Vamos a partir de dos principios básicos (obvios tal vez) que enunciaremos sin demostración\footnote{Ciertamente se requiere definir (explícita o implícitamente) las operaciones aritméticas naturales y sobre esa definición hacer la demostración: está fuera del ámbito de este trabajo.}: el \emph{principio de la suma} y el \emph{principio del producto}.

El principio de la suma nos dice algo que es bastante obvio a nivel intuitivo: si tengo $n$ objetos de un tipo en una bolsa y $m$ objetos de otro tipo en otro, entonces al juntar las bolsas nos quedan $n+m$ objetos en total.
Ciertamente obvio, y justo por eso se llama \emph{principio}: en matemáticas hay que comentar en alguna parte para poder ir construyendo teoría interesante sostenido por algo tan obvio que nadie en su sano juicio pueda dudar de su verdad.

El otro principio, el del producto, nos dice algo que ya habíamos discutido %TODO: referencia al producto euclidiano
sobre el número de elementos en un producto euclidiano; lo enunciaremos más abajo en su propia sección.

\section{Principios aditivos}
% TODO: hablar de qué tienen en común estos principios: de la suma y PIE
\subsection{El principio de la suma}
Como comentamos arriba, el principio de la suma me relaciona la cardinalidad de la unión de conjuntos con la de sus uniendos de tal forma que se cumple
\begin{thm}[Principio de la suma]
	Si $A,B$ son conjuntos ajenos %TODO revisar que esté definido, y agregar posiblemente referencia
	entonces la cardinalidad de su unión es la suma de sus cardinalidades:
	\[\left|A\cup B\right| = \left| A \right| +\left| B \right|.\]
\end{thm}

%%%% PRINCIPIO DE INCLUSIÓN Y EXCLUSIÓN (CRIBA)

%%%% CONTAR USANDO DIAGRAMA DE VENN

%%%% PRINCIPIO DEL PRODUCTO

%%%% CONTAR OBJETOS MATEMÁTICOS: FUNCIONES

%%%% CONTAR OBJETOS MATEMÁTICOS: SUBCONJUNTOS

%%%% FACTORIAL

%%%% PERMUTACIONES

%%%% CONTAR OBJETOS MATEMÁTICOS: FUNCIONES INYECTIVAS

%%%% COMBINACIONES

%%%% CONTAR OBJETOS MATEMÁTICOS: SUBCONJUNTOS DE DETERMINADA CARDINALIDAD

%%%% COMBINATORIA DE ALGUNOS JUEGOS

%%%% EL TEOREMA DEL BINOMIO

%%%% MODELO CONFIGURACIÓN-REALIZACIÓN

%%%% COEFICIENTE MULTINOMIAL

%%%% GENERALIZACIÓN DEL TEOREMA DEL BINOMIO

%%%% MODELO DE SEPARADORES

%%%% TÉCNICAS RECURSIVAS DE CONTEO

\end{document}